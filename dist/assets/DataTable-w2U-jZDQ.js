import{r as j,j as s}from"./react-core-BwkdTuSg.js";import{T as H,a as K,b as u,c as R,d as q,e as C}from"./table-CKCHMZ5m.js";import{m as I,J as h,I as J,i as T}from"./index-McppjVnx.js";import{w as O,a5 as _,h as z}from"./lucide-icons-CePlpqHy.js";function U({columns:d,data:p,loading:k=!1,pagination:g=!0,searchable:S=!0,enableSearch:D=!0,searchPlaceholder:w="검색...",pageSize:o=10,onRowClick:f,className:L,emptyMessage:M="데이터가 없습니다.",rowKey:$="id"}){const[i,m]=j.useState(1),[b,P]=j.useState(""),[l,V]=j.useState(null),N=b?p.filter(e=>Object.values(e).some(a=>String(a).toLowerCase().includes(b.toLowerCase()))):p,c=l?[...N].sort((e,a)=>{const t=e[l.key],r=a[l.key];return t<r?l.direction==="asc"?-1:1:t>r?l.direction==="asc"?1:-1:0}):N,x=Math.ceil(c.length/o),n=(i-1)*o,v=g?c.slice(n,n+o):c,B=e=>{d.find(t=>(t.key||t.accessor)===e)?.sortable&&V(t=>t?.key===e?{key:e,direction:t.direction==="asc"?"desc":"asc"}:{key:e,direction:"asc"})},y=(e,a)=>{const t=a.key||a.accessor;return e[t]};return k?s.jsx("div",{className:"border border-slate-700/50 rounded-lg bg-slate-800/30",children:s.jsx(I,{size:"lg",text:"데이터를 불러오는 중...",className:"py-8"})}):s.jsxs("div",{className:h("space-y-4",L),children:[S&&D&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(O,{className:"h-4 w-4 text-slate-400"}),s.jsx(J,{placeholder:w,value:b,onChange:e=>{P(e.target.value),m(1)},className:"max-w-sm input-premium"})]}),s.jsx("div",{className:"table-premium rounded-lg overflow-hidden",children:s.jsxs(H,{children:[s.jsx(K,{children:s.jsx(u,{className:"border-slate-700/50 hover:bg-transparent",children:d.map((e,a)=>{const t=e.key||e.accessor,r=e.title||e.header||"";return s.jsx(R,{className:h("whitespace-nowrap text-[#94a3b8] font-semibold text-center",e.sortable&&"cursor-pointer hover:bg-slate-700/50",e.className),style:{width:e.width},onClick:()=>e.sortable&&B(t),children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[r,e.sortable&&l?.key===t&&l.direction&&s.jsx("span",{className:"text-xs text-blue-400",children:l.direction==="asc"?"↑":"↓"})]})},a)})})}),s.jsx(q,{children:v.length===0?s.jsx(u,{className:"border-slate-700/50",children:s.jsx(C,{colSpan:d.length,className:"text-center py-8 text-slate-400",children:M})}):v.map((e,a)=>{const t=e[$]||e.id||e.external_txid||e.username||`row-${i}-${a}`;return s.jsx(u,{className:h("border-slate-700/50 text-slate-200",f&&"cursor-pointer hover:bg-slate-700/30"),onClick:()=>f?.(e,n+a),children:d.map((r,E)=>s.jsx(C,{className:h("text-center",r.className),children:r.render?r.render(y(e,r),e,n+a):r.cell?r.cell(e):String(y(e,r)||"")},`${t}-col-${E}`))},t)})})]})}),g&&x>1&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-slate-400",children:["총 ",c.length,"개 중 ",n+1,"-",Math.min(n+o,c.length),"개 표시"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(T,{variant:"outline",size:"sm",onClick:()=>m(e=>Math.max(1,e-1)),disabled:i===1,className:"border-slate-700 text-slate-300 hover:bg-slate-700/50",children:[s.jsx(_,{className:"h-4 w-4"}),"이전"]}),s.jsxs("span",{className:"text-sm px-2 text-slate-300",children:[i," / ",x]}),s.jsxs(T,{variant:"outline",size:"sm",onClick:()=>m(e=>Math.min(x,e+1)),disabled:i===x,className:"border-slate-700 text-slate-300 hover:bg-slate-700/50",children:["다음",s.jsx(z,{className:"h-4 w-4"})]})]})]})]})}export{U as D};
