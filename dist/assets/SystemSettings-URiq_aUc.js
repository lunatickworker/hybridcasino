const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CGvwOXPh.js","assets/react-core-BwkdTuSg.js","assets/vendor-D410aui4.js","assets/radix-ui-omyR4zpf.js","assets/lucide-icons-CAeZOOE5.js","assets/supabase-C8Oa5ukG.js","assets/index-nm0W54x1.css"])))=>i.map(i=>d[i]);
import{a as Be,s as m,_ as we,h as y,T as He,i as Je,j as L,k as U,C as f,E as b,F as N,G as D,e as w,L as c,I as h,S as H,o as J,p as K,q as Q,r as n,B as E}from"./index-CGvwOXPh.js";import{r as d,j as e}from"./react-core-BwkdTuSg.js";import{S as C}from"./switch-wakVB1dc.js";import{k as l}from"./vendor-D410aui4.js";import{R as Ke,A as Z,$ as X,Q as Se,b as Qe,G as Ze,U as Ce,w as Xe,S as ne,aA as re,N as Ye,ag as es,am as ss}from"./lucide-icons-CAeZOOE5.js";import"./radix-ui-omyR4zpf.js";import"./supabase-C8Oa5ukG.js";function xs({user:x,initialTab:Y="general"}){const{t}=Be(),[ke,le]=d.useState(Y),[ts,Ie]=d.useState([]),[v,Pe]=d.useState(null),[as,ce]=d.useState(!1),[T,M]=d.useState(!1),[u,j]=d.useState({system_name:"GMS í†µí•© ê´€ë¦¬ ì‹œìŠ¤í…œ",notification_sound:!0,auto_approval_limit:1e5,maintenance_mode:!1,api_sync_interval:30,session_timeout:1800,max_login_attempts:5,max_concurrent_image_downloads:1,timezone_offset:9}),[ee,de]=d.useState({settlement_method:"direct_subordinate",default_rolling_commission:.5,default_losing_commission:5,default_withdrawal_fee:1,min_withdrawal_amount:1e4,max_withdrawal_amount:1e6,daily_withdrawal_limit:5e6}),[_,k]=d.useState({password_min_length:8,password_require_special:!0,ip_whitelist_enabled:!1,two_factor_enabled:!1,login_log_retention_days:90,audit_log_enabled:!0}),[A,q]=d.useState([]),[W,oe]=d.useState(""),[me,Te]=d.useState([]),[Ae,Fe]=d.useState(""),[r,xe]=d.useState(null),[p,S]=d.useState({commission_rolling:0,commission_losing:0,withdrawal_fee:0,min_withdrawal_amount:1e4,max_withdrawal_amount:1e6,daily_withdrawal_limit:5e6}),[z,R]=d.useState(1e8),[se,he]=d.useState(null),[F,V]=d.useState(!1),[O,Le]=d.useState(x.id),[I,pe]=d.useState(!0),[P,ge]=d.useState(!0),[$,ue]=d.useState(!1);d.useEffect(()=>{ve(),te(),De(),_e(),x.level===1&&fe();const s=setInterval(te,3e4);return()=>clearInterval(s)},[x.level]),d.useEffect(()=>{O&&Re()},[O]),d.useEffect(()=>{le(Y)},[Y]);const ve=async()=>{ce(!0);try{const{data:s,error:a}=await m.from("system_settings").select("*").order("setting_key");if(a)throw a;Ie(s||[]),s?.forEach(i=>{const g=Ue(i);i.setting_key in u?j(o=>({...o,[i.setting_key]:g})):i.setting_key in ee?de(o=>({...o,[i.setting_key]:g})):i.setting_key in _&&k(o=>({...o,[i.setting_key]:g}))})}catch(s){console.error("ì„¤ì • ë¡œë“œ ì‹¤íŒ¨:",s),l.error(t.systemSettings.settingsLoadFailed)}finally{ce(!1)}},te=async()=>{try{const{error:s}=await m.from("partners").select("count",{count:"exact",head:!0}),{data:a}=await m.from("user_sessions").select("count",{count:"exact",head:!0}).eq("is_active",!0);Pe({database_status:s?"disconnected":"connected",api_status:"active",websocket_status:"connected",active_users:a?.length||0,system_uptime:"2ì¼ 14ì‹œê°„ 32ë¶„",memory_usage:Math.floor(Math.random()*40)+40,cpu_usage:Math.floor(Math.random()*30)+10,last_backup:new Date(Date.now()-Math.random()*864e5).toLocaleString("ko-KR")})}catch(s){console.error("ì‹œìŠ¤í…œ ì •ë³´ ë¡œë“œ ì‹¤íŒ¨:",s)}},Ue=s=>{switch(s.setting_type){case"boolean":return s.setting_value==="true";case"number":return parseFloat(s.setting_value);default:return s.setting_value}},je=async(s,a)=>{M(!0);try{const i=Object.entries(a).map(([g,o])=>({setting_key:g,setting_value:o.toString(),setting_type:typeof o=="boolean"?"boolean":typeof o=="number"?"number":"string",partner_level:x.level}));for(const g of i){const{error:o}=await m.from("system_settings").upsert(g,{onConflict:"setting_key"});if(o)throw o}l.success(`${s} ì„¤ì •ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤`),await ve()}catch(i){console.error("ì„¤ì • ì €ì¥ ì‹¤íŒ¨:",i),l.error(t.systemSettings.settingsSaveFailed)}finally{M(!1)}},De=async()=>{try{const{data:s,error:a}=await m.from("system_settings").select("setting_value").eq("setting_key","ip_whitelist").single();if(a&&a.code!=="PGRST116")throw a;if(s?.setting_value)try{const i=JSON.parse(s.setting_value);q(Array.isArray(i)?i:[])}catch{q([])}}catch(s){console.error("IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ë¡œë“œ ì‹¤íŒ¨:",s)}},ye=async()=>{if(!/^(\d{1,3}\.){3}\d{1,3}$/.test(W.trim())){l.error(t.systemSettings.ipAddressInvalid);return}if(A.includes(W.trim())){l.error(t.systemSettings.ipAddressExists);return}try{const a=[...A,W.trim()],{error:i}=await m.from("system_settings").upsert({setting_key:"ip_whitelist",setting_value:JSON.stringify(a),setting_type:"json",partner_level:x.level,description:"IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸"},{onConflict:"setting_key"});if(i)throw i;q(a),oe(""),l.success(t.systemSettings.ipAddressAdded)}catch(a){console.error("IP ì¶”ê°€ ì‹¤íŒ¨:",a),l.error(t.systemSettings.ipAddressAddFailed)}},Oe=async s=>{try{const a=A.filter(g=>g!==s),{error:i}=await m.from("system_settings").upsert({setting_key:"ip_whitelist",setting_value:JSON.stringify(a),setting_type:"json",partner_level:x.level,description:"IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸"},{onConflict:"setting_key"});if(i)throw i;q(a),l.success(t.systemSettings.ipAddressRemoved)}catch(a){console.error("IP ì‚­ì œ ì‹¤íŒ¨:",a),l.error(t.systemSettings.ipAddressRemoveFailed)}},_e=async()=>{try{let s=m.from("partners").select("*").order("level",{ascending:!0}).order("created_at",{ascending:!1});x.level>1&&(s=s.eq("parent_id",x.id));const{data:a,error:i}=await s;if(i)throw i;Te(a||[])}catch(s){console.error("íŒŒíŠ¸ë„ˆ ëª©ë¡ ë¡œë“œ ì‹¤íŒ¨:",s)}},Ee=async s=>{try{const{data:a,error:i}=await m.from("partners").select("*").eq("id",s).single();if(i)throw i;a&&(xe(a),S({commission_rolling:a.commission_rolling||0,commission_losing:a.commission_losing||0,withdrawal_fee:a.withdrawal_fee||0,min_withdrawal_amount:a.min_withdrawal_amount||1e4,max_withdrawal_amount:a.max_withdrawal_amount||1e6,daily_withdrawal_limit:a.daily_withdrawal_limit||5e6}))}catch(a){console.error("íŒŒíŠ¸ë„ˆ ì»¤ë¯¸ì…˜ ë¡œë“œ ì‹¤íŒ¨:",a),l.error(t.systemSettings.partnerInfoLoadFailed)}},Me=s=>{Fe(s),s?Ee(s):(xe(null),S({commission_rolling:0,commission_losing:0,withdrawal_fee:0,min_withdrawal_amount:1e4,max_withdrawal_amount:1e6,daily_withdrawal_limit:5e6}))},qe=(s,a,i)=>r?r.partner_type==="head_office"?s!==100||a!==100||i!==100?(l.error(t.systemSettings.headOfficeCommissionFixed),!1):!0:s>100||a>100||i>100?(l.error(t.systemSettings.commissionExceed100),!1):s<0||a<0||i<0?(l.error(t.systemSettings.commissionBelowZero),!1):!0:!1,We=async()=>{if(!r){l.error(t.systemSettings.selectPartnerError);return}if(qe(p.commission_rolling,p.commission_losing,p.withdrawal_fee)){M(!0);try{const{error:s}=await m.from("partners").update({commission_rolling:p.commission_rolling,commission_losing:p.commission_losing,withdrawal_fee:p.withdrawal_fee,min_withdrawal_amount:p.min_withdrawal_amount,max_withdrawal_amount:p.max_withdrawal_amount,daily_withdrawal_limit:p.daily_withdrawal_limit,updated_at:new Date().toISOString()}).eq("id",r.id);if(s)throw s;l.success(`${r.nickname} ì»¤ë¯¸ì…˜ì´ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤`),_e()}catch(s){console.error("íŒŒíŠ¸ë„ˆ ì»¤ë¯¸ì…˜ ì €ì¥ ì‹¤íŒ¨:",s),l.error(t.systemSettings.commissionSaveFailed)}finally{M(!1)}}},fe=async()=>{try{const{data:s}=await m.from("api_configs").select("is_active").eq("partner_id",x.id).eq("api_provider","invest").maybeSingle(),{data:a}=await m.from("api_configs").select("is_active").eq("partner_id",x.id).eq("api_provider","oroplay").maybeSingle();pe(s?.is_active??!1),ge(a?.is_active??!1),console.log("âœ… API ì„¤ì • ë¡œë“œ:",{invest:s?.is_active??!1,oroplay:a?.is_active??!1})}catch(s){console.error("âŒ API ì„¤ì • ë¡œë“œ ì‹¤íŒ¨:",s)}},ze=async()=>{if(x.level!==1){l.error(t.systemSettings.apiSettingsOnlyLv1);return}if(!I&&!P){l.error(t.systemSettings.apiSettingsMinimumOne);return}ue(!0);try{const s=[],a=m.from("api_configs").update({is_active:I}).eq("partner_id",x.id).eq("api_provider","invest");s.push(a);const i=m.from("api_configs").update({is_active:P}).eq("partner_id",x.id).eq("api_provider","oroplay");s.push(i),await Promise.all(s),l.success(t.systemSettings.apiSettingsSaved),console.log("âœ… API ì„¤ì • ì €ì¥ ì™„ë£Œ:",{invest:I,oroplay:P}),await fe()}catch(s){console.error("âŒ API ì„¤ì • ì €ì¥ ì‹¤íŒ¨:",s),l.error(t.systemSettings.apiSettingsSaveFailed)}finally{ue(!1)}},Re=async s=>{try{V(!0);const{md5Hash:a}=await we(async()=>{const{md5Hash:$e}=await import("./index-CGvwOXPh.js").then(Ge=>Ge.a8);return{md5Hash:$e}},__vite__mapDeps([0,1,2,3,4,5,6])),{data:i,error:g}=await m.from("partners").select("id").eq("level",1).single();if(g||!i){console.error("âŒ [ì‹œìŠ¤í…œì„¤ì •] Lv1 íŒŒíŠ¸ë„ˆ ì¡°íšŒ ì‹¤íŒ¨:",g),l.error("ì‹œìŠ¤í…œ ê´€ë¦¬ì(Lv1) ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");return}const{data:o,error:ie}=await m.from("api_configs").select("invest_opcode, invest_secret_key").eq("partner_id",i.id).eq("api_provider","invest").maybeSingle();if(ie){console.error("âŒâŒ [ì‹œìŠ¤í…œì„¤ì •] API config ì¡°íšŒ ì—ëŸ¬:",ie),l.error(t.systemSettings.partnerApiConfigNotFound);return}if(!o?.invest_opcode||!o?.invest_secret_key){console.warn("âš ï¸ [ì‹œìŠ¤í…œì„¤ì •] Lv1 API config ì—†ìŒ. Lv1 partner_id:",i.id),l.error(`${t.systemSettings.partnerApiConfigNotFound} (Lv1 Partner ID: ${i.id})`);return}const G=a(o.invest_opcode+o.invest_secret_key),B=await(await fetch("https://vi8282.com/proxy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:"https://api.invest-ho.com/api/game/limit",method:"GET",headers:{"Content-Type":"application/json"},body:{opcode:o.invest_opcode,signature:G}})})).json(),Ne=(B.DATA||B).limit||1e8;he(Ne),R(Ne)}catch(a){console.error("ì—ë³¼ë£¨ì…˜ ì„¤ì • ì¡°íšŒ ì˜¤ë¥˜:",a),l.error(t.systemSettings.evolutionSettingLoadFailed)}finally{V(!1)}},Ve=async()=>{try{V(!0);const{md5Hash:s}=await we(async()=>{const{md5Hash:be}=await import("./index-CGvwOXPh.js").then(B=>B.a8);return{md5Hash:be}},__vite__mapDeps([0,1,2,3,4,5,6])),{data:a,error:i}=await m.from("api_configs").select("invest_opcode, invest_secret_key").eq("partner_id",O).single(),{data:g}=await m.from("partners").select("nickname").eq("id",O).single();if(i||!a?.invest_opcode||!a?.invest_secret_key){l.error(t.systemSettings.partnerApiConfigNotFound);return}const o=s(a.invest_opcode+a.invest_secret_key),G=await(await fetch("https://vi8282.com/proxy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:"https://api.invest-ho.com/api/game/limit",method:"PUT",headers:{"Content-Type":"application/json"},body:{opcode:a.invest_opcode,limit:z,signature:o}})})).json();G.RESULT===!0||G.result===!0?(l.success(`${g?.nickname||"íŒŒíŠ¸ë„ˆ"} ì—ë³¼ë£¨ì…˜ ì„¤ì •ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤`),he(z)):l.error(t.systemSettings.evolutionSettingSaveFailed)}catch(s){console.error("ì—ë³¼ë£¨ì…˜ ì„¤ì • ì €ì¥ ì˜¤ë¥˜:",s),l.error(t.systemSettings.evolutionSettingSaveFailed)}finally{V(!1)}},ae=({status:s,label:a})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`h-3 w-3 rounded-full ${s==="connected"||s==="active"?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:"text-sm font-medium",children:a}),e.jsx(E,{variant:s==="connected"||s==="active"?"default":"destructive",children:s==="connected"||s==="active"?t.systemSettings.normal:t.systemSettings.error})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-100",children:t.systemSettings.title}),e.jsx("p",{className:"text-sm text-slate-400",children:t.systemSettings.subtitle})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(y,{onClick:te,variant:"outline",size:"sm",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),t.systemSettings.refresh]})})]}),e.jsxs(He,{value:ke,onValueChange:le,children:[e.jsxs(Je,{className:"grid w-full grid-cols-6 bg-slate-900/50 p-1 border border-slate-700/50 backdrop-blur-sm",children:[e.jsx(L,{value:"general",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-violet-600 data-[state=active]:to-purple-600 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-purple-500/30 hover:bg-slate-800/50 transition-all duration-300",children:t.systemSettings.generalTab}),e.jsx(L,{value:"api",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-violet-600 data-[state=active]:to-purple-600 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-purple-500/30 hover:bg-slate-800/50 transition-all duration-300",children:t.systemSettings.apiTab}),e.jsx(L,{value:"evolution",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-violet-600 data-[state=active]:to-purple-600 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-purple-500/30 hover:bg-slate-800/50 transition-all duration-300",children:t.systemSettings.evolutionTab}),e.jsx(L,{value:"commission",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-violet-600 data-[state=active]:to-purple-600 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-purple-500/30 hover:bg-slate-800/50 transition-all duration-300",children:t.systemSettings.commissionTab}),e.jsx(L,{value:"security",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-violet-600 data-[state=active]:to-purple-600 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-purple-500/30 hover:bg-slate-800/50 transition-all duration-300",children:t.systemSettings.securityTab}),e.jsx(L,{value:"system",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-violet-600 data-[state=active]:to-purple-600 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-purple-500/30 hover:bg-slate-800/50 transition-all duration-300",children:t.systemSettings.systemStatusTab})]}),e.jsx(U,{value:"api",className:"space-y-6",children:x.level===1?e.jsxs(f,{children:[e.jsxs(b,{children:[e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-5 w-5"}),t.systemSettings.apiActivationSettings]}),e.jsx(D,{children:t.systemSettings.apiActivationDescription})]}),e.jsxs(w,{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-blue-500/10 border border-blue-500/30",children:[e.jsx("p",{className:"text-sm text-blue-400",children:t.systemSettings.apiDeactivationInfo}),e.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:[t.systemSettings.apiSettingsNote,e.jsx("br",{}),t.systemSettings.apiMinimumOneRequired]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-slate-700 bg-slate-800/30",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(c,{className:"text-base",children:t.systemSettings.investApi}),e.jsx("p",{className:"text-sm text-slate-400",children:t.systemSettings.investApiDescription})]}),e.jsx(C,{checked:I,onCheckedChange:pe,disabled:$||!P&&I})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-slate-700 bg-slate-800/30",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(c,{className:"text-base",children:t.systemSettings.oroplayApi}),e.jsx("p",{className:"text-sm text-slate-400",children:t.systemSettings.oroplayApiDescription})]}),e.jsx(C,{checked:P,onCheckedChange:ge,disabled:$||!I&&P})]})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-yellow-500/10 border border-yellow-500/30",children:[e.jsx("p",{className:"text-sm text-yellow-400",children:t.systemSettings.depositLimitInfo}),e.jsxs("div",{className:"text-xs text-slate-400 mt-2 space-y-1",children:[e.jsx("p",{children:t.systemSettings.depositLimitLogic1}),e.jsx("p",{children:t.systemSettings.depositLimitLogic2}),e.jsx("p",{children:t.systemSettings.depositLimitLogic3})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs(y,{onClick:ze,disabled:$||!I&&!P,className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-4 w-4"}),$?t.systemSettings.saving:t.systemSettings.saveApiSettings]})})]})]}):e.jsxs(f,{children:[e.jsx(b,{children:e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"h-5 w-5 text-amber-500"}),t.systemSettings.accessRestricted]})}),e.jsx(w,{children:e.jsx("p",{className:"text-slate-400",children:t.systemSettings.apiSettingsLv1Only})})]})}),e.jsx(U,{value:"general",className:"space-y-6",children:e.jsxs(f,{children:[e.jsxs(b,{children:[e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"h-5 w-5"}),t.systemSettings.general]}),e.jsx(D,{children:t.systemSettings.generalDescription})]}),e.jsxs(w,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"system_name",children:t.systemSettings.systemName}),e.jsx(h,{id:"system_name",value:u.system_name,onChange:s=>j(a=>({...a,system_name:s.target.value})),placeholder:t.systemSettings.systemNamePlaceholder})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"api_sync_interval",children:t.systemSettings.apiSyncInterval}),e.jsx(h,{id:"api_sync_interval",type:"number",value:u.api_sync_interval,onChange:s=>j(a=>({...a,api_sync_interval:parseInt(s.target.value)})),placeholder:"30"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"auto_approval_limit",children:t.systemSettings.autoApprovalLimit}),e.jsx(h,{id:"auto_approval_limit",type:"number",value:u.auto_approval_limit,onChange:s=>j(a=>({...a,auto_approval_limit:parseInt(s.target.value)})),placeholder:"100000"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"session_timeout",children:t.systemSettings.sessionTimeout}),e.jsx(h,{id:"session_timeout",type:"number",value:u.session_timeout,onChange:s=>j(a=>({...a,session_timeout:parseInt(s.target.value)})),placeholder:"1800"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"max_concurrent_image_downloads",children:t.systemSettings.maxConcurrentImageDownloads}),e.jsx(h,{id:"max_concurrent_image_downloads",type:"number",min:"1",max:"10",value:u.max_concurrent_image_downloads,onChange:s=>j(a=>({...a,max_concurrent_image_downloads:parseInt(s.target.value)})),placeholder:"1"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.systemSettings.maxConcurrentImageDownloadsDescription})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"timezone_offset",children:t.systemSettings.timezoneOffset||"ì‹œìŠ¤í…œ ì‹œê°„ëŒ€ (UTC ì˜¤í”„ì…‹)"}),e.jsxs(H,{value:String(u.timezone_offset),onValueChange:s=>j(a=>({...a,timezone_offset:parseInt(s,10)})),children:[e.jsx(J,{className:"bg-slate-800/50 border-slate-700",children:e.jsx(K,{placeholder:"ì‹œê°„ëŒ€ ì„ íƒ"})}),e.jsxs(Q,{className:"bg-slate-900 border-slate-700 max-h-[300px]",children:[e.jsx(n,{value:"-12",children:"UTC-12"}),e.jsx(n,{value:"-11",children:"UTC-11"}),e.jsx(n,{value:"-10",children:"UTC-10"}),e.jsx(n,{value:"-9",children:"UTC-9"}),e.jsx(n,{value:"-8",children:"UTC-8"}),e.jsx(n,{value:"-7",children:"UTC-7"}),e.jsx(n,{value:"-6",children:"UTC-6"}),e.jsx(n,{value:"-5",children:"UTC-5"}),e.jsx(n,{value:"-4",children:"UTC-4"}),e.jsx(n,{value:"-3",children:"UTC-3"}),e.jsx(n,{value:"-2",children:"UTC-2"}),e.jsx(n,{value:"-1",children:"UTC-1"}),e.jsx(n,{value:"0",children:"UTC+0"}),e.jsx(n,{value:"1",children:"UTC+1"}),e.jsx(n,{value:"2",children:"UTC+2"}),e.jsx(n,{value:"3",children:"UTC+3"}),e.jsx(n,{value:"4",children:"UTC+4"}),e.jsx(n,{value:"5",children:"UTC+5"}),e.jsx(n,{value:"6",children:"UTC+6"}),e.jsx(n,{value:"7",children:"UTC+7"}),e.jsx(n,{value:"8",children:"UTC+8"}),e.jsx(n,{value:"9",children:"UTC+9 (í•œêµ­)"}),e.jsx(n,{value:"10",children:"UTC+10"}),e.jsx(n,{value:"11",children:"UTC+11"}),e.jsx(n,{value:"12",children:"UTC+12 (ë‰´ì§ˆëœë“œ)"}),e.jsx(n,{value:"13",children:"UTC+13"}),e.jsx(n,{value:"14",children:"UTC+14"})]})]},`timezone-${u.timezone_offset}`),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.systemSettings.timezoneOffsetDescription||"ë°°ë„ˆ ë“± ì‹œê°„ ê¸°ë°˜ ê¸°ëŠ¥ì— ì ìš©ë˜ëŠ” ì‹œê°„ëŒ€ì…ë‹ˆë‹¤."})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(c,{children:t.systemSettings.notificationSound}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.systemSettings.notificationSoundDescription})]}),e.jsx(C,{checked:u.notification_sound,onCheckedChange:s=>j(a=>({...a,notification_sound:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(c,{children:t.systemSettings.maintenanceMode}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.systemSettings.maintenanceModeDescription})]}),e.jsx(C,{checked:u.maintenance_mode,onCheckedChange:s=>j(a=>({...a,maintenance_mode:s}))})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs(y,{onClick:()=>je("ì¼ë°˜",u),disabled:T,className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-4 w-4"}),T?t.systemSettings.saving:t.systemSettings.saveSettings]})})]})]})}),e.jsx(U,{value:"evolution",className:"space-y-6",children:e.jsxs(f,{children:[e.jsxs(b,{children:[e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"h-5 w-5"}),t.systemSettings.evolutionBettingLimit]}),e.jsx(D,{children:t.systemSettings.evolutionBettingLimitDescription})]}),e.jsxs(w,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"evolution-partner-select",className:"text-xs text-slate-400",children:t.systemSettings.selectPartner}),e.jsxs(H,{value:O,onValueChange:Le,disabled:F,children:[e.jsx(J,{id:"evolution-partner-select",className:"bg-slate-800/50 border-slate-700",children:e.jsx(K,{placeholder:t.systemSettings.selectPartnerPlaceholder})}),e.jsxs(Q,{children:[e.jsxs(n,{value:x.id,children:[t.systemSettings.myself," (",x.nickname,")"]}),me.map(s=>e.jsxs(n,{value:s.id,children:["[",s.partner_type,"] ",s.nickname," (",s.username,")"]},s.id))]})]}),e.jsx("p",{className:"text-xs text-slate-500",children:t.systemSettings.partnerSelectNote})]}),se!==null&&e.jsx("div",{className:"p-4 rounded-lg bg-blue-500/10 border border-blue-500/30",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-slate-400",children:t.systemSettings.currentStoreSettings}),e.jsxs("span",{className:"font-mono text-blue-400",children:[se.toLocaleString(),"ì›"]})]})}),e.jsxs("div",{children:[e.jsx(c,{className:"text-xs text-slate-400 mb-2",children:t.systemSettings.storeMaxBettingAmount}),e.jsx(h,{type:"number",value:z,onChange:s=>{const a=parseInt(s.target.value)||0;R(a)},className:"bg-slate-800/50 border-slate-700 text-white font-mono",placeholder:t.systemSettings.enterAmount,disabled:F}),e.jsxs("p",{className:"text-xs text-slate-500 mt-1.5",children:[z.toLocaleString(),"ì›"]})]}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{value:1e6,label:"1ë°±ë§Œ"},{value:5e6,label:"5ë°±ë§Œ"},{value:1e7,label:"1ì²œë§Œ"},{value:5e7,label:"5ì²œë§Œ"},{value:1e8,label:"1ì–µ"},{value:2e8,label:"2ì–µ"},{value:3e8,label:"3ì–µ"},{value:5e8,label:"5ì–µ"}].map(s=>e.jsx(y,{variant:"outline",size:"sm",onClick:()=>R(s.value),disabled:F,className:"bg-slate-800/50 border-slate-700 hover:bg-slate-700 text-xs font-mono",children:s.label},s.value))}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(y,{variant:"outline",onClick:()=>{R(se||1e8)},disabled:F,className:"flex-1 border-slate-700 text-slate-300 hover:bg-slate-700/50",children:t.systemSettings.reset}),e.jsx(y,{onClick:Ve,disabled:F,className:"flex-1 bg-gradient-to-r from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700",children:F?t.systemSettings.saving:t.systemSettings.save})]}),e.jsx("div",{className:"p-3 rounded-lg bg-yellow-500/10 border border-yellow-500/30",children:e.jsx("p",{className:"text-xs text-yellow-400",children:t.systemSettings.evolutionWarning})})]})]})}),e.jsxs(U,{value:"commission",className:"space-y-6",children:[e.jsxs(f,{children:[e.jsxs(b,{children:[e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"h-5 w-5"}),t.systemSettings.partnerCommissionManagement]}),e.jsx(D,{children:t.systemSettings.partnerCommissionDescription})]}),e.jsxs(w,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs(c,{htmlFor:"partner-select",className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"h-4 w-4"}),t.systemSettings.selectPartner]}),e.jsxs(H,{value:Ae,onValueChange:Me,children:[e.jsx(J,{id:"partner-select",children:e.jsx(K,{placeholder:t.systemSettings.selectPartnerCommission})}),e.jsx(Q,{children:me.map(s=>e.jsx(n,{value:s.id,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{variant:"outline",className:"text-xs",children:s.partner_type==="head_office"?t.partnerManagement.headOffice:s.partner_type==="main_office"?t.partnerManagement.mainOffice:s.partner_type==="sub_office"?t.partnerManagement.subOffice:s.partner_type==="distributor"?t.partnerManagement.distributor:t.partnerManagement.store}),e.jsxs("span",{children:[s.nickname," (",s.username,")"]})]})},s.id))})]})]}),r?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-slate-800/30 rounded-lg border border-slate-700/50",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-400 mb-1",children:t.systemSettings.partnerName}),e.jsx("p",{className:"font-medium text-white",children:r.nickname})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-400 mb-1",children:t.systemSettings.grade}),e.jsx(E,{children:r.partner_type==="head_office"?t.partnerManagement.headOffice:r.partner_type==="main_office"?t.partnerManagement.mainOffice:r.partner_type==="sub_office"?t.partnerManagement.subOffice:r.partner_type==="distributor"?t.partnerManagement.distributor:t.partnerManagement.store})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-400 mb-1",children:t.systemSettings.balance}),e.jsxs("p",{className:"font-mono text-green-400",children:[r.balance?.toLocaleString(),"ì›"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-400 mb-1",children:t.common.status}),e.jsx(E,{variant:r.status==="active"?"default":"destructive",children:r.status==="active"?t.common.active:t.common.inactive})]})]})}),r.partner_type==="head_office"?e.jsx("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/10 rounded-lg border border-purple-200 dark:border-purple-800",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ne,{className:"h-5 w-5 text-purple-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-purple-900 dark:text-purple-100 mb-1",children:t.systemSettings.headOfficeCommission}),e.jsxs("p",{className:"text-sm text-purple-700 dark:text-purple-300",children:[t.systemSettings.headOfficeCommissionFixed," ",e.jsx("strong",{children:t.systemSettings.headOfficeCommissionPercent}),t.systemSettings.headOfficeCommissionSuffix]})]})]})}):e.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/10 rounded-lg border border-blue-200 dark:border-blue-800",children:e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:t.systemSettings.commissionExceedWarning})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-slate-800/50 border border-slate-700/50",children:[e.jsxs("h4",{className:"text-sm font-medium mb-4 text-slate-200 flex items-center gap-2",children:[e.jsx(Z,{className:"h-4 w-4"}),t.systemSettings.commissionSettings]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"partner_rolling",children:t.systemSettings.rollingCommission}),e.jsx(h,{id:"partner_rolling",type:"number",step:"0.1",min:"0",max:"100",value:p.commission_rolling,onChange:s=>S(a=>({...a,commission_rolling:parseFloat(s.target.value)||0})),disabled:r.partner_type==="head_office",className:r.partner_type==="head_office"?"bg-muted":""}),e.jsx("p",{className:"text-xs text-muted-foreground",children:r.partner_type==="head_office"?t.systemSettings.headOfficeFixed:t.systemSettings.rollingCommissionDesc})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"partner_losing",children:t.systemSettings.losingCommission}),e.jsx(h,{id:"partner_losing",type:"number",step:"0.1",min:"0",max:"100",value:p.commission_losing,onChange:s=>S(a=>({...a,commission_losing:parseFloat(s.target.value)||0})),disabled:r.partner_type==="head_office",className:r.partner_type==="head_office"?"bg-muted":""}),e.jsx("p",{className:"text-xs text-muted-foreground",children:r.partner_type==="head_office"?t.systemSettings.headOfficeFixed:t.systemSettings.losingCommissionDesc})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"partner_fee",children:t.systemSettings.withdrawalFee}),e.jsx(h,{id:"partner_fee",type:"number",step:"0.1",min:"0",max:"100",value:p.withdrawal_fee,onChange:s=>S(a=>({...a,withdrawal_fee:parseFloat(s.target.value)||0})),disabled:r.partner_type==="head_office",className:r.partner_type==="head_office"?"bg-muted":""}),e.jsx("p",{className:"text-xs text-muted-foreground",children:r.partner_type==="head_office"?t.systemSettings.headOfficeFixed:t.systemSettings.withdrawalFeeDesc})]})]})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-slate-800/50 border border-slate-700/50",children:[e.jsxs("h4",{className:"text-sm font-medium mb-4 text-slate-200 flex items-center gap-2",children:[e.jsx(re,{className:"h-4 w-4"}),t.systemSettings.withdrawalLimitSettings]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"partner_min_withdrawal",children:t.systemSettings.minWithdrawalAmount}),e.jsx(h,{id:"partner_min_withdrawal",type:"number",value:p.min_withdrawal_amount,onChange:s=>S(a=>({...a,min_withdrawal_amount:parseInt(s.target.value)||0})),disabled:r.partner_type==="head_office",className:r.partner_type==="head_office"?"bg-muted":""}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.systemSettings.minWithdrawalDesc})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"partner_max_withdrawal",children:t.systemSettings.maxWithdrawalAmount}),e.jsx(h,{id:"partner_max_withdrawal",type:"number",value:p.max_withdrawal_amount,onChange:s=>S(a=>({...a,max_withdrawal_amount:parseInt(s.target.value)||0})),disabled:r.partner_type==="head_office",className:r.partner_type==="head_office"?"bg-muted":""}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.systemSettings.maxWithdrawalDesc})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"partner_daily_limit",children:t.systemSettings.dailyWithdrawalLimit}),e.jsx(h,{id:"partner_daily_limit",type:"number",value:p.daily_withdrawal_limit,onChange:s=>S(a=>({...a,daily_withdrawal_limit:parseInt(s.target.value)||0})),disabled:r.partner_type==="head_office",className:r.partner_type==="head_office"?"bg-muted":""}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.systemSettings.dailyWithdrawalDesc})]})]})]})]}),e.jsx("div",{className:"flex justify-end pt-2",children:e.jsxs(y,{onClick:We,disabled:T||r.partner_type==="head_office",className:"flex items-center gap-2 bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-700 hover:to-purple-700",children:[e.jsx(X,{className:"h-4 w-4"}),T?t.systemSettings.saving:t.systemSettings.saveSettings]})})]}):e.jsxs("div",{className:"text-center py-12 text-slate-400",children:[e.jsx(Ce,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:t.systemSettings.selectPartnerToManage})]})]})]}),e.jsxs(f,{children:[e.jsxs(b,{children:[e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(re,{className:"h-5 w-5"}),t.systemSettings.newPartnerDefaultCommission]}),e.jsx(D,{children:t.systemSettings.newPartnerDefaultCommissionDescription})]}),e.jsxs(w,{className:"space-y-6",children:[e.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/10 dark:to-blue-900/10 rounded-lg border border-purple-200 dark:border-purple-800",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Z,{className:"h-5 w-5 text-purple-500 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-purple-900 dark:text-purple-100 mb-2",children:t.systemSettings.settlementMethodSelection}),e.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-300 mb-3",children:t.systemSettings.settlementMethodDescription})]})]}),e.jsxs(H,{value:ee.settlement_method,onValueChange:s=>de(a=>({...a,settlement_method:s})),children:[e.jsx(J,{className:"w-full",children:e.jsx(K,{placeholder:"ì •ì‚° ë°©ì‹ ì„ íƒ"})}),e.jsxs(Q,{children:[e.jsx(n,{value:"direct_subordinate",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium",children:"ì§ì† í•˜ìœ„ ì •ì‚° (ê¶Œì¥)"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"ë‚´ ì´ ìˆ˜ì… - ì§ì† í•˜ìœ„ ì§€ê¸‰ì•¡ = ìˆœìˆ˜ìµ"})]})}),e.jsx(n,{value:"differential",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium",children:"ì°¨ë“± ì •ì‚°"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"ìƒìœ„ê°€ í•˜ìœ„ ìˆ˜ìˆ˜ë£Œ ì œì™¸í•œ ì°¨ì•¡ë§Œ ë°›ìŒ"})]})})]})]}),e.jsx("div",{className:"mt-4 p-3 bg-white/50 dark:bg-slate-800/50 rounded-lg text-sm space-y-2",children:ee.settlement_method==="direct_subordinate"?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-100",children:"ğŸ“Š ì§ì† í•˜ìœ„ ì •ì‚° ë°©ì‹"}),e.jsxs("ul",{className:"text-xs text-slate-700 dark:text-slate-300 space-y-1 ml-4",children:[e.jsx("li",{children:"â€¢ ê° íŒŒíŠ¸ë„ˆëŠ” ëª¨ë“  í•˜ìœ„ ì‚¬ìš©ìë¡œë¶€í„° ì „ì²´ ìˆ˜ìˆ˜ë£Œë¥¼ ë°›ìŒ"}),e.jsx("li",{children:"â€¢ ì§ì† í•˜ìœ„ íŒŒíŠ¸ë„ˆë“¤ì—ê²Œ ê·¸ë“¤ì˜ ìˆ˜ìˆ˜ë£Œë¥¼ ì§€ê¸‰"}),e.jsx("li",{children:"â€¢ ìˆœìˆ˜ìµ = ì´ ìˆ˜ì… - ì§ì† í•˜ìœ„ ì§€ê¸‰ì•¡"}),e.jsx("li",{children:"â€¢ ì˜ˆ: ë³¸ì‚¬ê°€ 100ë§Œì› ìˆ˜ì… â†’ ë¶€ë³¸ì‚¬ì— 60ë§Œì› ì§€ê¸‰ â†’ ìˆœìˆ˜ìµ 40ë§Œì›"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-100",children:"ğŸ“‰ ì°¨ë“± ì •ì‚° ë°©ì‹"}),e.jsxs("ul",{className:"text-xs text-slate-700 dark:text-slate-300 space-y-1 ml-4",children:[e.jsx("li",{children:"â€¢ ìƒìœ„ê°€ í•˜ìœ„ì˜ ìˆ˜ìˆ˜ë£Œë¥¼ ì œì™¸í•œ ì°¨ì•¡ë§Œ ë°›ìŒ"}),e.jsx("li",{children:"â€¢ ê° ê³„ì¸µì´ ê³ ì •ëœ ì°¨ì•¡ì„ ë°›ìŒ"}),e.jsx("li",{children:"â€¢ ì˜ˆ: ë§¤ì¥ 0.1% â†’ ì´íŒ 0.2% â†’ ë¶€ë³¸ì‚¬ 0.3%"}),e.jsx("li",{children:"â€¢ ë² íŒ… 100ë§Œì› ì‹œ: ë§¤ì¥ 1ì²œì›, ì´íŒ 1ì²œì›, ë¶€ë³¸ì‚¬ 1ì²œì›"})]})]})})]})}),e.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/10 dark:to-purple-900/10 rounded-lg border border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(re,{className:"h-5 w-5 text-blue-500 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"ê¸°ë³¸ ì»¤ë¯¸ì…˜ ì•ˆë‚´"}),e.jsxs("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:"ì‹ ê·œ íŒŒíŠ¸ë„ˆ"}),": íŒŒíŠ¸ë„ˆ ìƒì„± ì‹œ ì´ ê°’ì´ ìë™ìœ¼ë¡œ ì ìš©ë©ë‹ˆë‹¤."]}),e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:"ê°œë³„ ì„¤ì •"}),": ìœ„ íŒŒíŠ¸ë„ˆë³„ ì»¤ë¯¸ì…˜ ê´€ë¦¬ì—ì„œ ê°œë³„ ìˆ˜ì • ê°€ëŠ¥í•©ë‹ˆë‹¤."]}),e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:"ëŒ€ë³¸ì‚¬"}),": ëŒ€ë³¸ì‚¬ëŠ” ìë™ìœ¼ë¡œ 100%ë¡œ ì„¤ì •ë©ë‹ˆë‹¤."]})]})]})]})}),e.jsx("div",{className:"p-4 bg-amber-500/10 border border-amber-500/30 rounded-lg",children:e.jsx("p",{className:"text-sm text-amber-400",children:'ğŸ’¡ íŒŒíŠ¸ë„ˆë³„ ì»¤ë¯¸ì…˜ ë° ì¶œê¸ˆ í•œë„ ì„¤ì •ì€ ìœ„ì˜ "íŒŒíŠ¸ë„ˆë³„ ì»¤ë¯¸ì…˜ ê´€ë¦¬" ì„¹ì…˜ì—ì„œ ê°œë³„ íŒŒíŠ¸ë„ˆë¥¼ ì„ íƒí•˜ì—¬ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.'})})]})]})]}),e.jsx(U,{value:"security",className:"space-y-6",children:e.jsxs(f,{children:[e.jsxs(b,{children:[e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-5 w-5"}),"ë³´ì•ˆ ì„¤ì •"]}),e.jsx(D,{children:"ì‹œìŠ¤í…œ ë³´ì•ˆ ê´€ë ¨ ì„¤ì •ì„ ê´€ë¦¬í•©ë‹ˆë‹¤."})]}),e.jsxs(w,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"password_min_length",children:"ìµœì†Œ ë¹„ë°€ë²ˆí˜¸ ê¸¸ì´"}),e.jsx(h,{id:"password_min_length",type:"number",value:_.password_min_length,onChange:s=>k(a=>({...a,password_min_length:parseInt(s.target.value)})),placeholder:"8"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"max_login_attempts",children:"ìµœëŒ€ ë¡œê·¸ì¸ ì‹œë„ íšŸìˆ˜"}),e.jsx(h,{id:"max_login_attempts",type:"number",value:u.max_login_attempts,onChange:s=>j(a=>({...a,max_login_attempts:parseInt(s.target.value)})),placeholder:"5"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"login_log_retention_days",children:"ë¡œê·¸ì¸ ë¡œê·¸ ë³´ê´€ ì¼ìˆ˜"}),e.jsx(h,{id:"login_log_retention_days",type:"number",value:_.login_log_retention_days,onChange:s=>k(a=>({...a,login_log_retention_days:parseInt(s.target.value)})),placeholder:"90"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(c,{children:"íŠ¹ìˆ˜ë¬¸ì í•„ìˆ˜"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"ë¹„ë°€ë²ˆí˜¸ì— íŠ¹ìˆ˜ë¬¸ì í¬í•¨ì„ í•„ìˆ˜ë¡œ í•©ë‹ˆë‹¤."})]}),e.jsx(C,{checked:_.password_require_special,onCheckedChange:s=>k(a=>({...a,password_require_special:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(c,{children:"IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"í—ˆìš©ëœ IPì—ì„œë§Œ ì ‘ì†ì„ í—ˆìš©í•©ë‹ˆë‹¤."})]}),e.jsx(C,{checked:_.ip_whitelist_enabled,onCheckedChange:async s=>{k(a=>({...a,ip_whitelist_enabled:s}));try{const{error:a}=await m.from("system_settings").upsert({setting_key:"ip_whitelist_enabled",setting_value:s.toString(),setting_type:"boolean",partner_level:x.level,description:"IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ í™œì„±í™”"},{onConflict:"setting_key"});if(a)throw a;l.success(s?t.systemSettings.ipWhitelistEnabled:t.systemSettings.ipWhitelistDisabled)}catch(a){console.error("ì„¤ì • ì €ì¥ ì‹¤íŒ¨:",a),l.error(t.systemSettings.settingsSaveFailed)}}})]}),_.ip_whitelist_enabled&&e.jsxs("div",{className:"p-4 border rounded-lg bg-muted/10 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-4 w-4 text-blue-500"}),e.jsx(c,{className:"text-sm font-medium",children:"í—ˆìš© IP ì£¼ì†Œ ê´€ë¦¬"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(h,{placeholder:"IP ì£¼ì†Œ ì…ë ¥ (ì˜ˆ: 192.168.1.1)",value:W,onChange:s=>oe(s.target.value),onKeyDown:s=>{s.key==="Enter"&&(s.preventDefault(),ye())}}),e.jsxs(y,{onClick:ye,size:"sm",children:[e.jsx(Ye,{className:"h-4 w-4 mr-1"}),"ì¶”ê°€"]})]}),A.length>0?e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{className:"text-xs text-muted-foreground",children:["ë“±ë¡ëœ IP ì£¼ì†Œ (",A.length,"ê°œ)"]}),e.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:A.map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-background rounded border",children:[e.jsx("code",{className:"text-sm",children:s}),e.jsx(y,{onClick:()=>Oe(s),variant:"ghost",size:"sm",className:"h-6 px-2",children:e.jsx(es,{className:"h-3 w-3"})})]},a))})]}):e.jsx("div",{className:"text-center py-4 text-sm text-muted-foreground",children:"ë“±ë¡ëœ IP ì£¼ì†Œê°€ ì—†ìŠµë‹ˆë‹¤. IPë¥¼ ì¶”ê°€í•˜ì„¸ìš”."}),e.jsxs("div",{className:"text-xs text-yellow-600 dark:text-yellow-500 flex items-start gap-2",children:[e.jsx(Se,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"ì£¼ì˜ì‚¬í•­:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 mt-1",children:[e.jsx("li",{children:"IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ê°€ í™œì„±í™”ë˜ë©´ ë“±ë¡ëœ IPì—ì„œë§Œ ì ‘ì† ê°€ëŠ¥í•©ë‹ˆë‹¤."}),e.jsx("li",{children:"ë³¸ì¸ IPë¥¼ ë¨¼ì € ë“±ë¡í•œ í›„ í™œì„±í™”í•˜ì„¸ìš”."}),e.jsx("li",{children:"ì˜ëª»ëœ ì„¤ì • ì‹œ ì ‘ì†ì´ ì°¨ë‹¨ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤."})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(c,{children:"2ë‹¨ê³„ ì¸ì¦"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"ë¡œê·¸ì¸ ì‹œ 2ë‹¨ê³„ ì¸ì¦ì„ ìš”êµ¬í•©ë‹ˆë‹¤."})]}),e.jsx(C,{checked:_.two_factor_enabled,onCheckedChange:s=>k(a=>({...a,two_factor_enabled:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(c,{children:"ê°ì‚¬ ë¡œê·¸"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"ëª¨ë“  ê´€ë¦¬ì í–‰ë™ì„ ë¡œê·¸ë¡œ ê¸°ë¡í•©ë‹ˆë‹¤."})]}),e.jsx(C,{checked:_.audit_log_enabled,onCheckedChange:s=>k(a=>({...a,audit_log_enabled:s}))})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs(y,{onClick:()=>je(t.systemSettings.security,_),disabled:T,className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-4 w-4"}),T?t.systemSettings.saving:t.systemSettings.saveSettings]})})]})]})}),e.jsx(U,{value:"system",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(f,{children:[e.jsx(b,{children:e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(ss,{className:"h-5 w-5"}),"ì‹œìŠ¤í…œ ìƒíƒœ"]})}),e.jsx(w,{className:"space-y-4",children:v&&e.jsxs(e.Fragment,{children:[e.jsx(ae,{status:v.database_status,label:"ë°ì´í„°ë² ì´ìŠ¤"}),e.jsx(ae,{status:v.api_status,label:"ì™¸ë¶€ API"}),e.jsx(ae,{status:v.websocket_status,label:"WebSocket"})]})})]}),e.jsxs(f,{children:[e.jsx(b,{children:e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-5 w-5"}),"ì‹œìŠ¤í…œ ì •ë³´"]})}),e.jsx(w,{className:"space-y-4",children:v&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"í™œì„± ì‚¬ìš©ì"}),e.jsxs(E,{children:[v.active_users,"ëª…"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"ì‹œìŠ¤í…œ ì—…íƒ€ì„"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:v.system_uptime})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ "}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[v.memory_usage,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"CPU ì‚¬ìš©ë¥ "}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[v.cpu_usage,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"ë§ˆì§€ë§‰ ë°±ì—…"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:v.last_backup})]})]})})]})]})})]})]})}export{xs as SystemSettings,xs as default};
