import{r as N,j as e}from"./react-core-BwkdTuSg.js";import{C as d,E as f,F as y,G as S,e as m,L as i,I as T,h as w,T as ue,i as xe,j as R,k as U,B as C,S as he,o as pe,p as je,q as ge,a4 as fe,r as ye,V as _,a5 as Z,s as P,a6 as ve}from"./index-Be3DOFuy.js";import{k as r}from"./vendor-D410aui4.js";import{aa as Ne,R as V,aD as we,P as J,w as ee,t as se,D as H,u as _e,p as Y,o as ae,i as be,aE as Se}from"./lucide-icons-D2Pw2Rdn.js";import"./radix-ui-omyR4zpf.js";import"./supabase-C8Oa5ukG.js";function ke(){const[Q,te]=N.useState("info"),[u,I]=N.useState({opcode:"eeo2211",secretKey:"CpxIc4mzOSfQaKNLzAJoSoUa8TmVuskj",token:"153b28230ef1c40c11ff526e9da93e2b",username:"smcdev11",amount:1e4,provider_id:300,game_id:300001,year:new Date().getFullYear().toString(),month:(new Date().getMonth()+1).toString()}),[b,O]=N.useState(null),[j,x]=N.useState(!1),[k,re]=N.useState("https://vi8282.com/proxy"),[E,ne]=N.useState(""),[L,ie]=N.useState([]),[c,ce]=N.useState(null),[l,D]=N.useState(null),[q,G]=N.useState(null),F=[{id:"info",name:"ê¸°ë³¸ ì •ë³´ ì¡°íšŒ",endpoint:"/api/info",method:"GET",description:"OPCODE ê¸°ë³¸ ì •ë³´ ë° ìž”ê³  ì¡°íšŒ",requiredParams:["opcode","secretKey"],testFunction:async s=>await _.getInfo(s.opcode,s.secretKey)},{id:"create-account",name:"ê³„ì • ìƒì„±",endpoint:"/api/account",method:"POST",description:"ìƒˆ ì‚¬ìš©ìž ê³„ì • ìƒì„± ë° í† í° ë°œê¸‰",requiredParams:["opcode","username","secretKey"],testFunction:async s=>await _.createAccount(s.opcode,s.username,s.secretKey)},{id:"balance-all",name:"ì „ì²´ ìž”ê³  ì¡°íšŒ",endpoint:"/api/account/balance",method:"PATCH",description:"ëª¨ë“  ê³„ì •ì˜ ìž”ê³  ì¼ê´„ ì¡°íšŒ",requiredParams:["opcode","secretKey"],testFunction:async s=>await _.getAllAccountBalances(s.opcode,s.secretKey)},{id:"deposit",name:"ê³„ì • ìž…ê¸ˆ",endpoint:"/api/account/balance",method:"POST",description:"íŠ¹ì • ê³„ì •ì— ê¸ˆì•¡ ìž…ê¸ˆ",requiredParams:["opcode","username","token","amount","secretKey"],testFunction:async s=>await _.depositToAccount(s.opcode,s.username,s.token,s.amount,s.secretKey)},{id:"game-list",name:"ê²Œìž„ ëª©ë¡ ì¡°íšŒ",endpoint:"/api/game/lists",method:"GET",description:"íŠ¹ì • ì œê³µì‚¬ì˜ ê²Œìž„ ëª©ë¡ ì¡°íšŒ",requiredParams:["opcode","provider_id","secretKey"],testFunction:async s=>await _.getGameList(s.opcode,s.provider_id,s.secretKey)},{id:"game-launch",name:"ê²Œìž„ ì‹¤í–‰",endpoint:"/api/game/launch",method:"POST",description:"ê²Œìž„ ì‹¤í–‰ URL ìš”ì²­",requiredParams:["opcode","username","token","game_id","secretKey"],testFunction:async s=>await _.launchGame(s.opcode,s.username,s.token,s.game_id,s.secretKey)}],le=async()=>{x(!0);try{console.log("ðŸ”— Proxy ì—°ê²° í…ŒìŠ¤íŠ¸ ì‹œìž‘:",k);const s={url:"https://api.invest-ho.com/api/info",method:"GET",headers:{"Content-Type":"application/json"},body:{opcode:u.opcode,signature:Z([u.opcode],u.secretKey)}};console.log("ðŸ“¤ Proxy ìš”ì²­ ë°ì´í„°:",s);const a=await fetch(k,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(console.log("ðŸ“¥ Proxy ì‘ë‹µ ìƒíƒœ:",a.status,a.statusText),!a.ok)throw new Error(`Proxy ì„œë²„ ì˜¤ë¥˜: ${a.status} ${a.statusText}`);const h=await a.json();console.log("ðŸ“¥ Proxy ì‘ë‹µ ë°ì´í„°:",h),O({success:!0,status:a.status,data:h,timestamp:new Date().toISOString(),proxy_url:k,request:s}),r.success("Proxy ì„œë²„ ì—°ê²° ì„±ê³µ!")}catch(s){console.error("âŒ Proxy ì—°ê²° ì‹¤íŒ¨:",s),O({success:!1,error:s.message,timestamp:new Date().toISOString(),proxy_url:k}),r.error(`Proxy ì—°ê²° ì‹¤íŒ¨: ${s.message}`)}finally{x(!1)}},B=async s=>{x(!0);try{console.log(`ðŸ§ª API í…ŒìŠ¤íŠ¸ ì‹œìž‘: ${s.name}`),console.log("ðŸ“¤ í…ŒìŠ¤íŠ¸ íŒŒë¼ë¯¸í„°:",u);const a=await s.testFunction(u);console.log(`ðŸ“¥ API í…ŒìŠ¤íŠ¸ ê²°ê³¼ (${s.name}):`,a),O({test:s.name,endpoint:s.endpoint,method:s.method,success:!a.error,data:a.data,error:a.error,status:a.status,timestamp:new Date().toISOString(),params:{...u,secretKey:"***ìˆ¨ê¹€***"}}),a.error?r.error(`${s.name} ì‹¤íŒ¨: ${a.error}`):r.success(`${s.name} ì„±ê³µ!`)}catch(a){console.error(`âŒ API í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ (${s.name}):`,a),O({test:s.name,success:!1,error:a.message,timestamp:new Date().toISOString()}),r.error(`${s.name} ì‹¤íŒ¨: ${a.message}`)}finally{x(!1)}},oe=s=>{navigator.clipboard.writeText(s),r.success("í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.")},z=async()=>{if(!E.trim()){r.error("ê²€ìƒ‰ì–´ë¥¼ ìž…ë ¥í•˜ì„¸ìš”");return}x(!0);try{const{data:s,error:a}=await P.rpc("search_users_for_sync",{p_search_term:E,p_limit:20});if(a)throw a;ie(s||[]),r.success(`${s?.length||0}ëª…ì˜ ì‚¬ìš©ìžë¥¼ ì°¾ì•˜ìŠµë‹ˆë‹¤`)}catch(s){console.error("ì‚¬ìš©ìž ê²€ìƒ‰ ì˜¤ë¥˜:",s),r.error(`ê²€ìƒ‰ ì‹¤íŒ¨: ${s.message}`)}finally{x(!1)}},de=async s=>{ce(s),G(null),await K(s.user_id)},K=async s=>{x(!0);try{const{data:a,error:h}=await P.rpc("verify_user_data_consistency",{p_user_id:s});if(h)throw h;const{data:g}=await P.from("users").select("username, api_token, referrer_id").eq("id",s).single();if(g){const{data:v}=await P.from("api_configs").select("invest_opcode, invest_secret_key").eq("partner_id",g.referrer_id).maybeSingle();if(v){const t=await _.getAllAccountBalances(v.invest_opcode,v.invest_secret_key);if(t.data){let n=null;Array.isArray(t.data)?n=t.data.find(p=>p.username===g.username||p.user_id===g.username):typeof t.data=="object"&&(t.data.username===g.username||t.data.user_id===g.username)&&(n=t.data);const o=a.map(p=>p.check_type==="balance_check"&&n?{...p,api_value:parseFloat(n.balance||0),difference:p.gms_value-parseFloat(n.balance||0)}:p);G(o)}else G(a)}}r.success("ë°ì´í„° ì¼ê´€ì„± ì²´í¬ ì™„ë£Œ")}catch(a){console.error("ì¼ê´€ì„± ì²´í¬ ì˜¤ë¥˜:",a),r.error(`ì²´í¬ ì‹¤íŒ¨: ${a.message}`)}finally{x(!1)}},me=async()=>{if(!c){r.error("ì‚¬ìš©ìžë¥¼ ë¨¼ì € ì„ íƒí•˜ì„¸ìš”");return}x(!0),D({status:"running",step:"preparing"});try{const s=c.user_id,{data:a}=await P.from("users").select("username, api_token, referrer_id").eq("id",s).single();if(!a)throw new Error("ì‚¬ìš©ìž ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤");const{data:h}=await P.from("api_configs").select("invest_opcode, invest_secret_key").eq("partner_id",a.referrer_id).maybeSingle();if(!h)throw new Error("Partner API configuration not found");let g=0;const v=[];D({status:"running",step:"balance"});try{const t=await _.getAllAccountBalances(h.invest_opcode,h.invest_secret_key);if(t.data){let n=null;Array.isArray(t.data)?n=t.data.find(o=>o.username===a.username||o.user_id===a.username):typeof t.data=="object"&&(t.data.username===a.username||t.data.user_id===a.username)&&(n=t.data),n&&console.log("API ìž”ê³ :",n.balance,"GMS ìž”ê³ :",c.balance)}}catch(t){v.push({type:"balance",error:t.message})}D({status:"running",step:"transactions"});try{const t=new Date;t.setDate(t.getDate()-30);const n=new Date,o=await ve("/api/account/balance","VIEW",{opcode:partner.opcode,username:a.username,date_from:t.toISOString().split("T")[0],date_to:n.toISOString().split("T")[0],signature:Z([partner.opcode,a.username,t.toISOString().split("T")[0],n.toISOString().split("T")[0]],partner.secret_key)});o.data&&console.log("ìž…ì¶œê¸ˆ ë‚´ì—­:",o.data)}catch(t){v.push({type:"transactions",error:t.message})}D({status:"running",step:"betting"});try{const t=new Date,n=[];for(let o=0;o<3;o++){const p=new Date(t.getFullYear(),t.getMonth()-o,1);n.push({year:p.getFullYear().toString(),month:(p.getMonth()+1).toString()})}for(const{year:o,month:p}of n){const $=await _.getGameHistory(partner.opcode,o,p,0,1e3,partner.secret_key);if($.data){let M=[];Array.isArray($.data)?M=$.data:$.data.DATA&&Array.isArray($.data.DATA)&&(M=$.data.DATA);const X=M.filter(A=>(A.username||A.user_id||A.userId)===a.username);if(X.length>0){const{data:A}=await P.rpc("save_betting_records_batch",{p_records:X});A&&A.length>0&&(g+=A[0].success_count||0)}}}}catch(t){v.push({type:"betting",error:t.message})}D({status:"completed",totalSynced:g,errors:v,timestamp:new Date().toISOString()}),v.length===0?r.success(`ë™ê¸°í™” ì™„ë£Œ! ${g}ê±´ ì²˜ë¦¬ë¨`):r.warning(`ë™ê¸°í™” ì™„ë£Œ (ì¼ë¶€ ì˜¤ë¥˜): ${g}ê±´ ì²˜ë¦¬, ${v.length}ê°œ ì˜¤ë¥˜`),await K(s)}catch(s){console.error("ë™ê¸°í™” ì˜¤ë¥˜:",s),D({status:"failed",error:s.message}),r.error(`ë™ê¸°í™” ì‹¤íŒ¨: ${s.message}`)}finally{x(!1)}},W=async s=>{if(!c){r.error("ì‚¬ìš©ìžë¥¼ ë¨¼ì € ì„ íƒí•˜ì„¸ìš”");return}if(confirm(`${c.username}ì˜ ë°ì´í„°ë¥¼ "${s}" ë°©ì‹ìœ¼ë¡œ ìˆ˜ì •í•˜ì‹œê² ìŠµë‹ˆê¹Œ?

ì´ ìž‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`)){x(!0);try{const{data:a,error:h}=await P.rpc("auto_fix_data_inconsistency",{p_user_id:c.user_id,p_fix_type:s,p_confirmed:!0});if(h)throw h;a&&a.length>0&&a[0].success?(r.success(`ìˆ˜ì • ì™„ë£Œ: ${a[0].fix_applied}`),await K(c.user_id),await z()):r.error("ìˆ˜ì • ì‹¤íŒ¨")}catch(a){console.error("ìžë™ ìˆ˜ì • ì˜¤ë¥˜:",a),r.error(`ìˆ˜ì • ì‹¤íŒ¨: ${a.message}`)}finally{x(!1)}}};return F.find(s=>s.id===Q),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(d,{children:[e.jsxs(f,{children:[e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"h-5 w-5"}),"Proxy ì„œë²„ ì„¤ì •"]}),e.jsx(S,{children:"ì™¸ë¶€ API í˜¸ì¶œì„ ìœ„í•œ Proxy ì„œë²„ ì£¼ì†Œë¥¼ ì„¤ì •í•˜ê³  ì—°ê²°ì„ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤."})]}),e.jsx(m,{className:"space-y-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(i,{htmlFor:"proxy-url",children:"Proxy ì„œë²„ URL"}),e.jsx(T,{id:"proxy-url",value:k,onChange:s=>re(s.target.value),placeholder:"https://vi8282.com/proxy"})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs(w,{onClick:le,disabled:j,className:"flex items-center gap-2",children:[e.jsx(V,{className:`h-4 w-4 ${j?"animate-spin":""}`}),"ì—°ê²° í…ŒìŠ¤íŠ¸"]})})]})})]}),e.jsxs(d,{children:[e.jsxs(f,{children:[e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsx(we,{className:"h-5 w-5"}),"API ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸"]}),e.jsx(S,{children:"ê° API ì—”ë“œí¬ì¸íŠ¸ë¥¼ ê°œë³„ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•˜ê³  ì‘ë‹µì„ í™•ì¸í•©ë‹ˆë‹¤."})]}),e.jsx(m,{children:e.jsxs(ue,{value:Q,onValueChange:te,children:[e.jsxs(xe,{className:"grid w-full grid-cols-4",children:[e.jsx(R,{value:"info",children:"ê¸°ë³¸ ì •ë³´"}),e.jsx(R,{value:"create-account",children:"ê³„ì • ê´€ë¦¬"}),e.jsx(R,{value:"game-list",children:"ê²Œìž„ ê´€ë¦¬"}),e.jsx(R,{value:"user-sync",children:"ì‚¬ìš©ìž ë™ê¸°í™”"})]}),e.jsx(U,{value:"info",className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:F.slice(0,3).map(s=>e.jsxs(d,{className:"cursor-pointer hover:bg-muted/50",children:[e.jsxs(f,{className:"pb-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(y,{className:"text-sm",children:s.name}),e.jsx(C,{variant:"outline",children:s.method})]}),e.jsx(S,{className:"text-xs",children:s.description})]}),e.jsx(m,{className:"pt-0",children:e.jsxs(w,{onClick:()=>B(s),disabled:j,size:"sm",className:"w-full",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),"í…ŒìŠ¤íŠ¸ ì‹¤í–‰"]})})]},s.id))})}),e.jsx(U,{value:"create-account",className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:F.slice(3,5).map(s=>e.jsxs(d,{className:"cursor-pointer hover:bg-muted/50",children:[e.jsxs(f,{className:"pb-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(y,{className:"text-sm",children:s.name}),e.jsx(C,{variant:"outline",children:s.method})]}),e.jsx(S,{className:"text-xs",children:s.description})]}),e.jsx(m,{className:"pt-0",children:e.jsxs(w,{onClick:()=>B(s),disabled:j,size:"sm",className:"w-full",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),"í…ŒìŠ¤íŠ¸ ì‹¤í–‰"]})})]},s.id))})}),e.jsx(U,{value:"game-list",className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:F.slice(5).map(s=>e.jsxs(d,{className:"cursor-pointer hover:bg-muted/50",children:[e.jsxs(f,{className:"pb-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(y,{className:"text-sm",children:s.name}),e.jsx(C,{variant:"outline",children:s.method})]}),e.jsx(S,{className:"text-xs",children:s.description})]}),e.jsx(m,{className:"pt-0",children:e.jsxs(w,{onClick:()=>B(s),disabled:j,size:"sm",className:"w-full",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),"í…ŒìŠ¤íŠ¸ ì‹¤í–‰"]})})]},s.id))})}),e.jsxs(U,{value:"user-sync",className:"space-y-4",children:[e.jsxs(d,{children:[e.jsxs(f,{children:[e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-5 w-5"}),"ì‚¬ìš©ìž ê²€ìƒ‰"]}),e.jsx(S,{children:"ë™ê¸°í™”í•  ì‚¬ìš©ìžë¥¼ ê²€ìƒ‰í•˜ì„¸ìš” (ì‚¬ìš©ìžëª… ë˜ëŠ” ë‹‰ë„¤ìž„)"})]}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(T,{placeholder:"ì‚¬ìš©ìžëª… ë˜ëŠ” ë‹‰ë„¤ìž„ ìž…ë ¥...",value:E,onChange:s=>ne(s.target.value),onKeyPress:s=>s.key==="Enter"&&z()}),e.jsxs(w,{onClick:z,disabled:j,children:[e.jsx(ee,{className:"h-4 w-4 mr-2"}),"ê²€ìƒ‰"]})]}),L.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{children:["ê²€ìƒ‰ ê²°ê³¼ (",L.length,"ëª…)"]}),e.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:L.map(s=>e.jsx(d,{className:`cursor-pointer hover:bg-muted/50 ${c?.user_id===s.user_id?"border-primary":""}`,onClick:()=>de(s),children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{className:"font-mono",children:s.username}),e.jsx(C,{variant:"outline",children:s.nickname})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Partner: ",s.partner_name," (",s.opcode,")"]})]}),e.jsxs("div",{className:"text-right space-y-1",children:[e.jsxs("div",{className:"font-mono",children:["â‚©",Number(s.balance||0).toLocaleString()]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.total_bets," bets"]})]})]})})},s.user_id))})]})]})]}),c&&e.jsxs(e.Fragment,{children:[e.jsxs(d,{children:[e.jsx(f,{children:e.jsxs(y,{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5"}),"ì„ íƒëœ ì‚¬ìš©ìž"]}),e.jsx(C,{variant:"outline",children:c.status})]})}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{className:"text-xs text-muted-foreground",children:"ì‚¬ìš©ìžëª…"}),e.jsx("div",{className:"font-mono",children:c.username})]}),e.jsxs("div",{children:[e.jsx(i,{className:"text-xs text-muted-foreground",children:"ë‹‰ë„¤ìž„"}),e.jsx("div",{children:c.nickname})]}),e.jsxs("div",{children:[e.jsx(i,{className:"text-xs text-muted-foreground",children:"í˜„ìž¬ ìž”ê³ "}),e.jsxs("div",{className:"font-mono",children:["â‚©",Number(c.balance||0).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx(i,{className:"text-xs text-muted-foreground",children:"ì´ ë² íŒ…"}),e.jsxs("div",{children:[c.total_bets,"ê±´"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(w,{onClick:me,disabled:j,className:"flex-1",children:[e.jsx(V,{className:`h-4 w-4 mr-2 ${j?"animate-spin":""}`}),"ì „ì²´ ë°ì´í„° ë™ê¸°í™”"]}),e.jsxs(w,{onClick:()=>K(c.user_id),disabled:j,variant:"outline",children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),"ì¼ê´€ì„± ì²´í¬"]})]})]})]}),l&&e.jsxs(d,{children:[e.jsx(f,{children:e.jsxs(y,{className:"flex items-center gap-2",children:[l.status==="completed"?e.jsx(_e,{className:"h-5 w-5 text-green-500"}):l.status==="failed"?e.jsx(Y,{className:"h-5 w-5 text-red-500"}):e.jsx(V,{className:"h-5 w-5 animate-spin"}),"ë™ê¸°í™” ì§„í–‰ ìƒíƒœ"]})}),e.jsx(m,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"ìƒíƒœ:"}),e.jsx(C,{variant:l.status==="completed"?"default":l.status==="failed"?"destructive":"secondary",children:l.status})]}),l.step&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"í˜„ìž¬ ë‹¨ê³„:"}),e.jsx("span",{className:"font-mono",children:l.step})]}),l.totalSynced!==void 0&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"ë™ê¸°í™”ëœ ê¸°ë¡:"}),e.jsxs("span",{className:"font-mono",children:[l.totalSynced,"ê±´"]})]}),l.errors&&l.errors.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx(i,{className:"text-red-500",children:"ì˜¤ë¥˜ ëª©ë¡"}),e.jsx("div",{className:"mt-2 space-y-1",children:l.errors.map((s,a)=>e.jsxs("div",{className:"text-sm text-red-500 bg-red-50 p-2 rounded",children:[s.type,": ",s.error]},a))})]})]})})]}),q&&q.length>0&&e.jsxs(d,{children:[e.jsxs(f,{children:[e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-5 w-5"}),"ë°ì´í„° ì¼ê´€ì„± ì²´í¬ ê²°ê³¼"]}),e.jsx(S,{children:"GMS ë‚´ë¶€ ë°ì´í„°ì™€ ì™¸ë¶€ API ë°ì´í„° ë¹„êµ"})]}),e.jsx(m,{children:e.jsxs("div",{className:"space-y-4",children:[q.map((s,a)=>e.jsx(d,{className:s.status==="warning"?"border-yellow-500":s.status==="error"?"border-red-500":"border-green-500",children:e.jsxs(m,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[s.status==="success"&&e.jsx(ae,{className:"h-4 w-4 text-green-500"}),s.status==="warning"&&e.jsx(be,{className:"h-4 w-4 text-yellow-500"}),s.status==="error"&&e.jsx(Y,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"font-medium",children:s.check_type.replace(/_/g," ").toUpperCase()})]}),e.jsx(C,{variant:s.status==="success"?"default":s.status==="warning"?"secondary":"destructive",children:s.status})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx(i,{className:"text-xs text-muted-foreground",children:"GMS ê°’"}),e.jsx("div",{className:"font-mono",children:s.gms_value!==null?`â‚©${Number(s.gms_value).toLocaleString()}`:"N/A"})]}),e.jsxs("div",{children:[e.jsx(i,{className:"text-xs text-muted-foreground",children:"API ê°’"}),e.jsx("div",{className:"font-mono",children:s.api_value!==null?`â‚©${Number(s.api_value).toLocaleString()}`:"N/A"})]}),e.jsxs("div",{children:[e.jsx(i,{className:"text-xs text-muted-foreground",children:"ì°¨ì´"}),e.jsx("div",{className:`font-mono ${Math.abs(s.difference||0)>.01?"text-red-500":"text-green-500"}`,children:s.difference!==null?`â‚©${Number(s.difference).toLocaleString()}`:"N/A"})]})]}),s.details&&e.jsx("div",{className:"mt-2 p-2 bg-muted rounded text-xs",children:e.jsx("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(s.details,null,2)})})]})},a)),e.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[e.jsx(w,{onClick:()=>W("recalculate_balance"),variant:"outline",size:"sm",disabled:j,children:"ìž”ê³  ìž¬ê³„ì‚°"}),e.jsx(w,{onClick:()=>W("reset_counters"),variant:"outline",size:"sm",disabled:j,children:"ì¹´ìš´í„° ì´ˆê¸°í™”"})]})]})})]})]})]})]})})]}),e.jsxs(d,{children:[e.jsx(f,{children:e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-5 w-5"}),"í…ŒìŠ¤íŠ¸ íŒŒë¼ë¯¸í„° ì„¤ì •"]})}),e.jsx(m,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"opcode",children:"OPCODE"}),e.jsx(T,{id:"opcode",value:u.opcode,onChange:s=>I(a=>({...a,opcode:s.target.value})),placeholder:"eeo2211"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"username",children:"ì‚¬ìš©ìžëª…"}),e.jsx(T,{id:"username",value:u.username,onChange:s=>I(a=>({...a,username:s.target.value})),placeholder:"test_user"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"token",children:"Token"}),e.jsx(T,{id:"token",value:u.token,onChange:s=>I(a=>({...a,token:s.target.value})),placeholder:"user token"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"amount",children:"ê¸ˆì•¡"}),e.jsx(T,{id:"amount",type:"number",value:u.amount,onChange:s=>I(a=>({...a,amount:parseInt(s.target.value)})),placeholder:"10000"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"provider_id",children:"ê²Œìž„ ì œê³µì‚¬ ID"}),e.jsxs(he,{value:u.provider_id.toString(),onValueChange:s=>I(a=>({...a,provider_id:parseInt(s)})),children:[e.jsx(pe,{children:e.jsx(je,{})}),e.jsx(ge,{children:Object.entries(fe.SLOT).map(([s,a])=>e.jsxs(ye,{value:s,children:[a," (",s,")"]},s))})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"game_id",children:"ê²Œìž„ ID"}),e.jsx(T,{id:"game_id",type:"number",value:u.game_id,onChange:s=>I(a=>({...a,game_id:parseInt(s.target.value)})),placeholder:"300001"})]})]})})]}),b&&e.jsxs(d,{children:[e.jsxs(f,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(y,{className:"flex items-center gap-2",children:[b.success?e.jsx(ae,{className:"h-5 w-5 text-green-500"}):e.jsx(Y,{className:"h-5 w-5 text-red-500"}),"í…ŒìŠ¤íŠ¸ ê²°ê³¼",b.test&&e.jsx(C,{variant:"outline",children:b.test})]}),e.jsxs(w,{onClick:()=>oe(JSON.stringify(b,null,2)),variant:"outline",size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"ë³µì‚¬"]})]}),e.jsx(S,{children:b.timestamp&&new Date(b.timestamp).toLocaleString("ko-KR")})]}),e.jsx(m,{children:e.jsx("div",{className:"bg-muted rounded-md p-4",children:e.jsx("pre",{className:"text-sm whitespace-pre-wrap overflow-auto max-h-96",children:JSON.stringify(b,null,2)})})})]})]})}export{ke as ApiTester};
